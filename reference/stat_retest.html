<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function creates a retest stat object which can be passed as input
to the set_stats() function when building an aba model. This stat performs
a test-retest analysis on data in long format. It can be used to calculate
the bias and variance of biomarkers (or any variables, for that matter)
when measured multiple times. Moreover, the result of a model fit with this
stat can be subsequently passed to the aba_robust() object in order to
test the effect of test-retest bias/variance on clinical prediction models
which can also be fit as an aba model."><title>Create a retest stat object. — stat_retest • aba</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a retest stat object. — stat_retest"><meta property="og:description" content="This function creates a retest stat object which can be passed as input
to the set_stats() function when building an aba model. This stat performs
a test-retest analysis on data in long format. It can be used to calculate
the bias and variance of biomarkers (or any variables, for that matter)
when measured multiple times. Moreover, the result of a model fit with this
stat can be subsequently passed to the aba_robust() object in order to
test the effect of test-retest bias/variance on clinical prediction models
which can also be fit as an aba model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script>if(!sessionStorage.getItem("_swa")&&document.referrer.indexOf(location.protocol+"//"+location.host)!== 0){fetch("https://counter.dev/track?"+new URLSearchParams({referrer:document.referrer,screen:screen.width+"x"+screen.height,user:"nickmarch31",utcoffset:"1"}))};sessionStorage.setItem("_swa","1");</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">aba</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/aba.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-basic-tutorials">Basic Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-basic-tutorials">
    <a class="dropdown-item" href="../articles/intro_to_aba_models.html">Intro to aba models</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>FAQ</h6>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-advanced-tutorials">Advanced Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-advanced-tutorials">
    <a class="dropdown-item" href="../articles/intro_to_aba_models.html">Go further with aba models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/overview.html">Gallery</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ncullen93/abaR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a retest stat object.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ncullen93/abaR/blob/HEAD/R/stat_retest.R" class="external-link"><code>R/stat_retest.R</code></a></small>
      <div class="d-none name"><code>stat_retest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates a retest stat object which can be passed as input
to the <code><a href="set_stats.html">set_stats()</a></code> function when building an aba model. This stat performs
a test-retest analysis on data in long format. It can be used to calculate
the bias and variance of biomarkers (or any variables, for that matter)
when measured multiple times. Moreover, the result of a model fit with this
stat can be subsequently passed to the <code><a href="aba_robust.html">aba_robust()</a></code> object in order to
test the effect of test-retest bias/variance on clinical prediction models
which can also be fit as an aba model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">stat_retest</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">time</span>,
  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"percent_change"</span><span class="op">)</span>,
  std.beta <span class="op">=</span> <span class="cn">FALSE</span>,
  complete.cases <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>id</dt>
<dd><p>string. This is the subject id variable in the dataset. This is
necessary to keep track of which values belong to which individuals.</p></dd>
<dt>time</dt>
<dd><p>string. This is the time variable in the dataset. This is
necessary to keep track of which values belong to which time point.</p></dd>
<dt>method</dt>
<dd><p>string. This is the method used to calculate the difference
between outcome values across time points. Options are:
<code>percent_change</code> calculated by 100 * (x - y) / y where x is the earlier
time and y is the later time.</p></dd>
<dt>std.beta</dt>
<dd><p>logical. Whether to standardize the model outcomes and
predictors/outcomes prior to analysis.</p></dd>
<dt>complete.cases</dt>
<dd><p>logical. Whether to only include the subset of data
with no missing data for any of the outcomes, predictors, or covariates.
Note that complete cases are considering within each group - outcome
combination but across all predictor sets.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An abaStat object with <code>retest</code> stat type.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># use longitudinal data in healthy controls as pseudo "test-retest"</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">adnimerge</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="va">VISCODE</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'bl'</span> ,<span class="st">'m06'</span>, <span class="st">'m12'</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="va">DX_bl</span> <span class="op">==</span> <span class="st">'CU'</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># fit model over two groups and two endpoints</span></span>
<span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="aba_model.html">aba_model</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="set_groups.html">set_groups</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="fu"><a href="everyone.html">everyone</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span class="r-in">    <span class="va">CSF_ABETA_STATUS_bl</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span class="r-in">    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'CU'</span>, <span class="st">'CU AB-'</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="set_outcomes.html">set_outcomes</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="va">ADAS13</span>, <span class="va">MMSE</span>,</span>
<span class="r-in">    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'ADAS13'</span>, <span class="st">'MMSE'</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="set_stats.html">set_stats</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="fu">stat_retest</span><span class="op">(</span>id <span class="op">=</span> <span class="st">'RID'</span>, time <span class="op">=</span> <span class="st">'VISCODE'</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="aba_fit.html">aba_fit</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in value[[3L]](cond):</span> object 'CSF_ABETA_STATUS_bl' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># summarise model to get bias and variance estimates</span></span>
<span class="r-in"><span class="va">model_summary</span> <span class="op">&lt;-</span> <span class="va">model</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="aba_summary.html">aba_summary</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in aba_summary(.):</span> object 'model' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot model results like any other summary</span></span>
<span class="r-in"><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">model_summary</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="aba_plot_coef.html">aba_plot_coef</a></span><span class="op">(</span></span>
<span class="r-in">  axis<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'term'</span>, <span class="st">'group'</span>, <span class="st">'outcome'</span>,<span class="st">'predictor'</span><span class="op">)</span>, coord_flip<span class="op">=</span><span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in aba_plot_coef(., axis = c("term", "group", "outcome", "predictor"),     coord_flip = TRUE):</span> object 'model_summary' not found</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Nicholas Cullen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

